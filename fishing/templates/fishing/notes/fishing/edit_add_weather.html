{% extends 'fishing/base.html' %}
{% block content %}
{% load static %}
{% load l10n %}

<div class="errors">
  <div class="errors__inner">
    {% for error in form.non_field_errors %}
      <div class="errors__item">
        <p>{{ error }}</p>
      </div>
    {% endfor %}
  </div>
</div>

<form class="content__form" action="" method="post">
  {% csrf_token %}
  <table style="text-align: center; margin: auto;">
    <tr>
      <td>
        {{ form.overcast.label_tag }}
      </td>
      <td>
        <lable class="textareaContainer">
          <select class="content__input" name="overcast" id="id_overcast">
            <option value selected></option>
            {% for overcast in overcasts %}
            <option value="{{overcast.id}}" {% if overcast.id == form.overcast.value %} selected {% endif %} >{{overcast}}</option>
            {% endfor %}
          </select>
        </lable>
      </td>
    </tr>
    {% if form.overcast.errors %}
      <tr>
        <td></td>
        <td>
          <div class="errors">
            <div class="errors__inner">
              {% for error in form.overcast.errors %}
                <div class="errors__item">
                  <p>{{ error }}</p>
                </div>
              {% endfor %}
            </div>
          </div>
        </td>
      </tr>
    {% endif %}
    <tr>
      <td>{{ form.conditions.label_tag }}</td>
      <td>
        <lable class="textareaContainer">
          <select class="content__input" name="conditions" id="id_conditions">
            <option value selected></option>
              {% for condition in conditions %}
              <option value="{{condition.id}}" {% if condition.id == form.conditions.value %} selected {% endif %} >{{condition}}</option>
              {% endfor %}
          </select>
        </lable>
      </td>
    </tr>
    {% if form.conditions.errors %}
      <tr>
        <td></td>
        <td>
          <div class="errors">
            <div class="errors__inner">
              {% for error in form.conditions.errors %}
                <div class="errors__item">
                  <p>{{ error }}</p>
                </div>
              {% endfor %}
            </div>
          </div>
        </td>
      </tr>
    {% endif %}
    <tr>
      <td>{{ form.temperature.label_tag }}</td>
      <td>
        <lable class="textareaContainer textareaContainer--right8">
          <input class="content__input" type="number" step="0.1" name="temperature" id="id_temperature" value={{ form.temperature.value|unlocalize|default_if_none:"" }}>
        </lable>
      </td>
    </tr>
    {% if form.temperature.errors %}
      <tr>
        <td></td>
        <td>
          <div class="errors">
            <div class="errors__inner">
              {% for error in form.temperature.errors %}
                <div class="errors__item">
                  <p>{{ error }}</p>
                </div>
              {% endfor %}
            </div>
          </div>
        </td>
      </tr>
    {% endif %}
    <tr>
      <td>{{ form.pressure.label_tag }}</td>
      <td>
        <lable class="textareaContainer textareaContainer--right8">
          <input class="content__input" type="number" min="0" name="pressure" id="id_pressure"  value={{ form.pressure.value|default_if_none:"760" }}>
        </lable>
      </td>
    </tr>
    {% if form.pressure.errors %}
      <tr>
        <td></td>
        <td>
          <div class="errors">
            <div class="errors__inner">
              {% for error in form.pressure.errors %}
                <div class="errors__item">
                  <p>{{ error }}</p>
                </div>
              {% endfor %}
            </div>
          </div>
        </td>
      </tr>
    {% endif %}
    <tr>
      <td>{{ form.direction_wind.label_tag }}</td>
      <td>
        <lable class="textareaContainer textareaContainer--right8">
          <input class="content__input" type="text" name="direction_wind" id="id_direction_wind" value={{ form.direction_wind.value|default_if_none:"" }}>
        </lable>
      </td>
    </tr>
    {% if form.direction_wind.errors %}
      <tr>
        <td></td>
        <td>
          <div class="errors">
            <div class="errors__inner">
              {% for error in form.direction_wind.errors %}
                <div class="errors__item">
                  <p>{{ error }}</p>
                </div>
              {% endfor %}
            </div>
          </div>
        </td>
      </tr>
    {% endif %}
    <tr>
      <td>{{ form.wind_speed.label_tag }}</td>
      <td>
        <lable class="textareaContainer textareaContainer--right8">
          <input class="content__input" type="number" min="0" name="wind_speed" id="id_wind_speed" value={{ form.wind_speed.value|unlocalize|default_if_none:"" }}>
        </lable>
      </td>
    </tr>
    {% if form.wind_speed.errors %}
      <tr>
        <td></td>
        <td>
          <div class="errors">
            <div class="errors__inner">
              {% for error in form.wind_speed.errors %}
                <div class="errors__item">
                  <p>{{ error }}</p>
                </div>
              {% endfor %}
            </div>
          </div>
        </td>
      </tr>
    {% endif %}
    <tr>
      <td>{{ form.lunar_day.label_tag }}</td>
      <td>
        <lable class="textareaContainer textareaContainer--right8">
          <input class="content__input" min="0" max="30" type="number" name="lunar_day" id="id_lunar_day" value={{ form.lunar_day.value|default_if_none:"" }}>
        </lable>
      </td>
    </tr>
    {% if form.lunar_day.errors %}
      <tr>
        <td></td>
        <td>
          <div class="errors">
            <div class="errors__inner">
              {% for error in form.lunar_day.errors %}
                <div class="errors__item">
                  <p>{{ error }}</p>
                </div>
              {% endfor %}
            </div>
          </div>
        </td>
      </tr>
    {% endif %}
  </table>
  <div class="content__item content__item--btn-position">
    <button class="button__std button__std--center">Сохранить</button>
    <a class="button__std button__std--center" href="{% url 'fishing:fishing_details' fishing_id %}">
      Назад
    </a>
  </div>
</form>
{% endblock %}
